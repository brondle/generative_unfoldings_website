!function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return r(t[s][1][e]||e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(e,t,n){e("array-flat-polyfill");const i=e("canvas-sketch"),{sketch:r,settings:o}=e("./util/sketch");i(r,o)},{"./util/sketch":17,"array-flat-polyfill":2,"canvas-sketch":5}],2:[function(e,t,n){Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,function(n,i){return Array.isArray(i)?n.push.apply(n,e.call(i,t-1)):n.push(i),n},[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0})},{}],3:[function(e,t,n){t.exports=function(e,t,n){if("number"!=typeof t||"number"!=typeof n)throw new TypeError('Must specify "to" and "from" arguments as numbers');if(t>n){var i=t;t=n,n=i}var r=n-t;if(0===r)return n;return e-r*Math.floor((e-t)/r)}},{}],4:[function(e,t,n){var i=e("defined"),r=e("./lib/wrap"),o=Number.EPSILON;function s(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}function a(e,t,n){return e*(1-n)+t*n}function l(e,t,n){return Math.abs(e-t)<o?0:(n-e)/(t-e)}function c(e,t){return t=i(t,0),"number"==typeof e&&isFinite(e)?e:t}function u(e){if("number"!=typeof e)throw new TypeError("Expected dims argument");return function(t,n){var r;n=i(n,0),null==t?r=n:"number"==typeof t&&isFinite(t)&&(r=t);var o,s=[];if(null==r)for(o=0;o<e;o++)s[o]=c(t[o],n);else for(o=0;o<e;o++)s[o]=r;return s}}function h(e,t,n,i){if(i=i||[],e.length!==t.length)throw new TypeError("min and max array are expected to have the same length");for(var r=0;r<e.length;r++)i[r]=a(e[r],t[r],n);return i}function p(e,t){if("number"!=typeof(e=i(e,0)))throw new TypeError("Expected n argument to be a number");for(var n=[],r=0;r<e;r++)n.push(t);return n}function f(e,t){return(e%t+t)%t}function d(e,t,n,i){return a(e,t,1-Math.exp(-n*i))}t.exports={mod:f,fract:function(e){return e-Math.floor(e)},sign:function(e){return e>0?1:e<0?-1:0},degToRad:function(e){return e*Math.PI/180},radToDeg:function(e){return 180*e/Math.PI},wrap:r,pingPong:function(e,t){return e=f(e,2*t),t-Math.abs(e-t)},linspace:function(e,t){if("number"!=typeof(e=i(e,0)))throw new TypeError("Expected n argument to be a number");"boolean"==typeof(t=t||{})&&(t={endpoint:!0});var n=i(t.offset,0);return t.endpoint?p(e).map(function(t,i){return e<=1?0:(i+n)/(e-1)}):p(e).map(function(t,i){return(i+n)/e})},lerp:a,lerpArray:h,inverseLerp:l,lerpFrames:function(e,t,n){t=s(t,0,1);var i=e.length-1,r=t*i,o=Math.floor(r),l=r-o,c=Math.min(o+1,i),u=e[o%e.length],p=e[c%e.length];if("number"==typeof u&&"number"==typeof p)return a(u,p,l);if(Array.isArray(u)&&Array.isArray(p))return h(u,p,l,n);throw new TypeError("Mismatch in value type of two array elements: "+o+" and "+c)},clamp:s,clamp01:function(e){return s(e,0,1)},smoothstep:function(e,t,n){var i=s(l(e,t,n),0,1);return i*i*(3-2*i)},damp:d,dampArray:function(e,t,n,i,r){r=r||[];for(var o=0;o<e.length;o++)r[o]=d(e[o],t[o],n,i);return r},mapRange:function(e,t,n,i,r,s){if(Math.abs(t-n)<o)return i;var a=(e-t)/(n-t)*(r-i)+i;return s&&(r<i?a<r?a=r:a>i&&(a=i):a>r?a=r:a<i&&(a=i)),a},expand2D:u(2),expand3D:u(3),expand4D:u(4)}},{"./lib/wrap":3,defined:6}],5:[function(e,t,n){(function(e){(function(){!function(e,i){"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.canvasSketch=i()}(this,function(){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var r=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)i.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a},o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function s(e,t){return e(t={exports:{}},t.exports),t.exports}var a=o.performance&&o.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},l=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then};var c=function(e){return!(!e||"object"!=typeof e)&&("object"==typeof window&&"object"==typeof window.Node?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName)};function u(){return"undefined"!=typeof window&&window["canvas-sketch-cli"]}function h(){for(var e=arguments,t=0;t<arguments.length;t++)if(null!=e[t])return e[t]}function p(){return"undefined"!=typeof document}var f,d=s(function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),m=s(function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r}),g=s(function(e){var t=Array.prototype.slice,n=e.exports=function(e,o,s){return s||(s={}),e===o||(e instanceof Date&&o instanceof Date?e.getTime()===o.getTime():!e||!o||"object"!=typeof e&&"object"!=typeof o?s.strict?e===o:e==o:function(e,o,s){var a,l;if(i(e)||i(o))return!1;if(e.prototype!==o.prototype)return!1;if(m(e))return!!m(o)&&(e=t.call(e),o=t.call(o),n(e,o,s));if(r(e)){if(!r(o))return!1;if(e.length!==o.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==o[a])return!1;return!0}try{var c=d(e),u=d(o)}catch(e){return!1}if(c.length!=u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!=u[a])return!1;for(a=c.length-1;a>=0;a--)if(!n(e[l=c[a]],o[l],s))return!1;return typeof e==typeof o}(e,o,s))};function i(e){return null==e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}}),y=s(function(e,t){!function(t){var n,i,r,o=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,function(e,t,a,l){if(1!==arguments.length||"string"!==(null===(c=e)?"null":void 0===c?"undefined":"object"!=typeof c?typeof c:Array.isArray(c)?"array":{}.toString.call(c).slice(8,-1).toLowerCase())||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var c,u=(t=String(o.masks[t]||t||o.masks.default)).slice(0,4);"UTC:"!==u&&"GMT:"!==u||(t=t.slice(4),a=!0,"GMT:"===u&&(l=!0));var h=a?"getUTC":"get",p=e[h+"Date"](),f=e[h+"Day"](),d=e[h+"Month"](),m=e[h+"FullYear"](),g=e[h+"Hours"](),y=e[h+"Minutes"](),w=e[h+"Seconds"](),v=e[h+"Milliseconds"](),b=a?0:e.getTimezoneOffset(),x=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=t.getTimezoneOffset()-n.getTimezoneOffset();return t.setHours(t.getHours()-i),1+Math.floor((t-n)/6048e5)}(e),k=function(e){var t=e.getDay();return 0===t&&(t=7),t}(e),M={d:p,dd:s(p),ddd:o.i18n.dayNames[f],dddd:o.i18n.dayNames[f+7],m:d+1,mm:s(d+1),mmm:o.i18n.monthNames[d],mmmm:o.i18n.monthNames[d+12],yy:String(m).slice(2),yyyy:m,h:g%12||12,hh:s(g%12||12),H:g,HH:s(g),M:y,MM:s(y),s:w,ss:s(w),l:s(v,3),L:s(Math.round(v/10)),t:g<12?o.i18n.timeNames[0]:o.i18n.timeNames[1],tt:g<12?o.i18n.timeNames[2]:o.i18n.timeNames[3],T:g<12?o.i18n.timeNames[4]:o.i18n.timeNames[5],TT:g<12?o.i18n.timeNames[6]:o.i18n.timeNames[7],Z:l?"GMT":a?"UTC":(String(e).match(i)||[""]).pop().replace(r,""),o:(b>0?"-":"+")+s(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:x,N:k};return t.replace(n,function(e){return e in M?M[e]:e.slice(1,e.length-1)})});function s(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},e.exports=o}()}),w="",v=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(f!==e||void 0===f)f=e,w="";else if(w.length>=n)return w.substr(0,n);for(;n>w.length&&t>1;)1&t&&(w+=e),t>>=1,e+=e;return w=(w+=e).substr(0,n)};var b,x=function(e,t,n){return e=e.toString(),void 0===t?e:(n=0===n?"0":n?n.toString():" ",v(n,t-e.length)+e)},k=function(){},M={extension:"",prefix:"",suffix:""},_=["image/png","image/jpeg","image/webp"];function E(e,t){return void 0===t&&(t={}),new Promise(function(n,i){t=r({},M,t);var o=A(Object.assign({},t,{extension:"",frame:void 0})),s=e?"streamStart":"streamEnd",a=u();return a&&a.output&&"function"==typeof a[s]?a[s](r({},t,{filename:o})).then(function(e){return n(e)}):n({filename:o,client:!1})})}function S(e,t){return void 0===t&&(t={}),function(e){return new Promise(function(t){var n=e.indexOf(",");if(-1!==n){for(var i=e.slice(n+1),r=window.atob(i),o=e.slice(0,n),s=/data:([^;]+)/.exec(o),a=(s?s[1]:"")||void 0,l=new ArrayBuffer(r.length),c=new Uint8Array(l),u=0;u<r.length;u++)c[u]=r.charCodeAt(u);t(new window.Blob([l],{type:a}))}else t(new window.Blob)})}(e).then(function(e){return T(e,t)})}function T(e,t){return void 0===t&&(t={}),new Promise(function(n){var i=(t=r({},M,t)).filename,o=u();if(o&&"function"==typeof o.saveBlob&&o.output)return o.saveBlob(e,r({},t,{filename:i})).then(function(e){return n(e)});b||((b=document.createElement("a")).style.visibility="hidden",b.target="_blank"),b.download=i,b.href=window.URL.createObjectURL(e),document.body.appendChild(b),b.onclick=function(){b.onclick=k,setTimeout(function(){window.URL.revokeObjectURL(e),b.parentElement&&b.parentElement.removeChild(b),b.removeAttribute("href"),n({filename:i,client:!1})})},b.click()})}function A(e){if(void 0===e&&(e={}),"function"==typeof(e=r({},e)).file)return e.file(e);if(e.file)return e.file;var t,n=null,i="";("string"==typeof e.extension&&(i=e.extension),"number"==typeof e.frame)&&(t="number"==typeof e.totalFrames?e.totalFrames:Math.max(1e4,e.frame),n=x(String(e.frame),String(t).length,"0"));var o=isFinite(e.totalLayers)&&isFinite(e.layer)&&e.totalLayers>1?""+e.layer:"";return null!=n?[o,n].filter(Boolean).join("-")+i:[e.prefix,e.name||e.timeStamp,o,e.hash,e.suffix].filter(Boolean).join("-")+i}var j={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},R=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],P=function(e){Object.keys(e).forEach(function(e){e in j?console.warn('[canvas-sketch] Could not recognize the setting "'+e+'", did you mean "'+j[e]+'"?'):R.includes(e)||console.warn('[canvas-sketch] Could not recognize the setting "'+e+'"')})};var F=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce(function(e,t){var n={units:t[3]||"mm",dimensions:[t[1],t[2]]};return e[t[0]]=n,e[t[0].replace(/-/g," ")]=n,e},{}),C=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},z=["mm","cm","m","pc","pt","in","ft","px"],H={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const O={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};var D=function(e,t,n,i){if("number"!=typeof e||!isFinite(e))throw new Error("Value must be a finite number");if(!t||!n)throw new Error("Must specify from and to units");var r=C((i=i||{}).pixelsPerInch,96),o=i.precision,s=!1!==i.roundPixel;if(t=t.toLowerCase(),n=n.toLowerCase(),-1===z.indexOf(t))throw new Error('Invalid from unit "'+t+'", must be one of: '+z.join(", "));if(-1===z.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+z.join(", "));if(t===n)return e;var a=1,l=1,c=!1;"px"===t&&(l=1/r,t="in"),"px"===n&&(c=!0,a=r,n="in");var u=H[t],h=H[n],p=e*u.factor*l;u.system!==h.system&&(p*=O[u.system].ratio);var f=p/h.factor*a;return c&&s?f=Math.round(f):"number"==typeof o&&isFinite(o)&&(f=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}(f,o)),f};function N(e,t,n,i){return void 0===t&&(t="px"),void 0===n&&(n="px"),void 0===i&&(i=72),D(e,t,n,{pixelsPerInch:i,precision:4,roundPixel:!0})}function W(e,t){var n,i,r,o,s,a,l=p(),c=t.dimensions,u=function(e){return!(!e.dimensions||"string"!=typeof e.dimensions&&!(Array.isArray(e.dimensions)&&e.dimensions.length>=2))}(t),f=e.exporting,d=!!u&&!1!==t.scaleToFit,m=!(!f&&u)||t.scaleToView;l||(d=m=!1);var g,y,w=t.units,v="number"==typeof t.pixelsPerInch&&isFinite(t.pixelsPerInch)?t.pixelsPerInch:72,b=h(t.bleed,0),x=l?window.devicePixelRatio:1,k=m?x:1;"number"==typeof t.pixelRatio&&isFinite(t.pixelRatio)?y=h(t.exportPixelRatio,g=t.pixelRatio):u?(g=k,y=h(t.exportPixelRatio,1)):y=h(t.exportPixelRatio,g=x),"number"==typeof t.maxPixelRatio&&isFinite(t.maxPixelRatio)&&(g=Math.min(t.maxPixelRatio,g)),f&&(g=y);var M,_,E=function(e,t){if(!p())return[300,150];var n=t.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var i=n.getBoundingClientRect();return[i.width,i.height]}(0,t),S=E[0],T=E[1];if(u){var A=function(e,t,n){if(void 0===t&&(t="px"),void 0===n&&(n=72),"string"==typeof e){var i=e.toLowerCase();if(!(i in F))throw new Error('The dimension preset "'+e+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var r=F[i];return r.dimensions.map(function(e){return N(e,r.units,t,n)})}return e}(c,w,v),j=Math.max(A[0],A[1]),R=Math.min(A[0],A[1]);if(t.orientation){var P="landscape"===t.orientation;n=P?j:R,i=P?R:j}else n=A[0],i=A[1];M=n,_=i,n+=2*b,i+=2*b}else M=n=S,_=i=T;var C=n,z=i;if(u&&w&&(C=N(n,w,"px",v),z=N(i,w,"px",v)),r=Math.round(C),o=Math.round(z),d&&!f&&u){var H=n/i,O=S/T,D=h(t.scaleToFitPadding,40),W=Math.round(S-2*D),L=Math.round(T-2*D);(r>W||o>L)&&(O>H?(o=L,r=Math.round(o*H)):(r=W,o=Math.round(r/H)))}return{bleed:b,pixelRatio:g,width:n,height:i,dimensions:[n,i],units:w||"px",scaleX:(s=m?Math.round(g*r):Math.round(g*C))/n,scaleY:(a=m?Math.round(g*o):Math.round(g*z))/i,pixelsPerInch:v,viewportWidth:m?Math.round(r):Math.round(C),viewportHeight:m?Math.round(o):Math.round(z),canvasWidth:s,canvasHeight:a,trimWidth:M,trimHeight:_,styleWidth:r,styleHeight:o}}D.units=z;var L=function(e,t){if("string"!=typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"==typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"==typeof t.width&&(n.width=t.width);"number"==typeof t.height&&(n.height=t.height);var i,r=t;try{var o=[e];0===e.indexOf("webgl")&&o.push("experimental-"+e);for(var s=0;s<o.length;s++)if(i=n.getContext(o[s],r))return i}catch(e){i=null}return i||null};function I(e){var t,n;void 0===e&&(e={});var i=!1;if(!1!==e.canvas){if(!(t=e.context)||"string"==typeof t){var o=e.canvas;o||(o=function(){if(!p())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),i=!0);var s=t||"2d";if("function"!=typeof o.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(t=L(s,r({},e.attributes,{canvas:o}))))throw new Error("Failed at canvas.getContext('"+s+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=t.canvas,e.canvas&&n!==e.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");e.pixelated&&(t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:t,ownsCanvas:i}}var q=function(){var e=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._recordTimeout=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(e){void 0===e&&(e={});var t=function(t){if(e.enabled()){var n=u();83!==t.keyCode||t.altKey||!t.metaKey&&!t.ctrlKey?32===t.keyCode?e.togglePlay(t):n&&!t.altKey&&75===t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.commit(t)):(t.preventDefault(),e.save(t))}};return{attach:function(){window.addEventListener("keydown",t)},detach:function(){window.removeEventListener("keydown",t)}}}({enabled:function(){return!1!==e.settings.hotkeys},save:function(t){t.shiftKey?e.props.recording?(e.endRecord(),e.run()):e.record():e.props.recording||e.exportFrame()},togglePlay:function(){e.props.playing?e.pause():e.play()},commit:function(t){e.exportFrame({commit:!0})}}),this._animateHandler=function(){return e.animate()},this._resizeHandler=function(){e.resize()&&e.render()}},B={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};B.sketch.get=function(){return this._sketch},B.settings.get=function(){return this._settings},B.props.get=function(){return this._props},q.prototype._computePlayhead=function(e,t){return"number"==typeof t&&isFinite(t)?e/t:0},q.prototype._computeFrame=function(e,t,n,i){return isFinite(n)&&n>1?Math.floor(e*(n-1)):Math.floor(i*t)},q.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},q.prototype._getSizeProps=function(){var e=this.props;return{width:e.width,height:e.height,pixelRatio:e.pixelRatio,canvasWidth:e.canvasWidth,canvasHeight:e.canvasHeight,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight}},q.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"==typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},q.prototype._cancelTimeouts=function(){null!=this._raf&&"undefined"!=typeof window&&"function"==typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame(this._raf),this._raf=null),null!=this._recordTimeout&&(clearTimeout(this._recordTimeout),this._recordTimeout=null)},q.prototype.play=function(){var e=this.settings.animate;"animation"in this.settings&&(e=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),e&&(p()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,this._cancelTimeouts(),this._lastTime=a(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},q.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,this._cancelTimeouts()},q.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},q.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},q.prototype.record=function(){var e=this;if(!this.props.recording)if(p()){this.stop(),this.props.playing=!0,this.props.recording=!0;var t=this._createExportOptions({sequence:!0}),n=1/this.props.fps;this._cancelTimeouts();var i,r=function(){return e.props.recording?(e.props.deltaTime=n,e.tick(),e.exportFrame(t).then(function(){e.props.recording&&(e.props.deltaTime=0,e.props.frame++,e.props.frame<e.props.totalFrames?(e.props.time+=n,e.props.playhead=e._computePlayhead(e.props.time,e.props.duration),e._recordTimeout=setTimeout(r,0)):(console.log("Finished recording"),e._signalEnd(),e.endRecord(),e.stop(),e.run()))})):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),this.sketch&&"function"==typeof this.sketch.beginRecord&&this._wrapContextScale(function(t){return e.sketch.beginRecord(t)}),(i=t,void 0===i&&(i={}),E(!0,i)).catch(function(e){console.error(e)}).then(function(t){e._raf=window.requestAnimationFrame(r)})}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},q.prototype._signalBegin=function(){var e=this;this.sketch&&"function"==typeof this.sketch.begin&&this._wrapContextScale(function(t){return e.sketch.begin(t)})},q.prototype._signalEnd=function(){var e=this;this.sketch&&"function"==typeof this.sketch.end&&this._wrapContextScale(function(t){return e.sketch.end(t)})},q.prototype.endRecord=function(){var e,t=this,n=this.props.recording;return this._cancelTimeouts(),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,(void 0===e&&(e={}),E(!1,e)).catch(function(e){console.error(e)}).then(function(){n&&t.sketch&&"function"==typeof t.sketch.endRecord&&t._wrapContextScale(function(e){return t.sketch.endRecord(e)})})},q.prototype._createExportOptions=function(e){return void 0===e&&(e={}),{sequence:e.sequence,save:e.save,fps:this.props.fps,frame:e.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:e.timeStamp||y(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(0,this.props.totalFrames):1e3}},q.prototype.exportFrame=function(e){var t=this;if(void 0===e&&(e={}),!this.sketch)return Promise.all([]);"function"==typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(e),i=u(),o=Promise.resolve();if(i&&e.commit&&"function"==typeof i.commit){var s=r({},n),a=i.commit(s);o=l(a)?a:Promise.resolve(a)}return o.then(function(e){return t._doExportFrame(r({},n,{hash:e||""}))}).then(function(e){return 1===e.length?e[0]:e})},q.prototype._doExportFrame=function(e){var t=this;void 0===e&&(e={}),this._props.exporting=!0,this.resize();var n=this.render();return void 0===n&&(n=[this.props.canvas]),n=(n=[].concat(n).filter(Boolean)).map(function(t){var n,i="object"==typeof t&&t&&("data"in t||"dataURL"in t),o=i?t.data:t,s=i?r({},t,{data:o}):{data:o};if(c(n=o)&&/canvas/i.test(n.nodeName)&&"function"==typeof n.getContext){var a=function(e,t){void 0===t&&(t={});var n=t.encoding||"image/png";if(!_.includes(n))throw new Error("Invalid canvas encoding "+n);var i=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return i&&(i=("."+i).toLowerCase()),{extension:i,type:n,dataURL:e.toDataURL(n,t.encodingQuality)}}(o,{encoding:s.encoding||e.encoding,encodingQuality:h(s.encodingQuality,e.encodingQuality,.95)});return Object.assign(s,{dataURL:a.dataURL,extension:a.extension,type:a.type})}return s}),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map(function(t,n,i){var o=r({extension:"",prefix:"",suffix:""},e,t,{layer:n,totalLayers:i.length}),s=!1!==e.save&&t.save;for(var a in o.save=!1!==s,o.filename=A(o),delete o.encoding,delete o.encodingQuality,o)void 0===o[a]&&delete o[a];var l=Promise.resolve({});if(o.save){var c=o.data;if(o.dataURL)l=S(o.dataURL,o);else l=function(e,t){void 0===t&&(t={});var n=Array.isArray(e)?e:[e];return T(new window.Blob(n,{type:t.type||""}),t)}(c,o)}return l.then(function(e){return Object.assign({},o,e)})})).then(function(n){var i=n.filter(function(e){return e.save});if(i.length>0){var r,o=i.find(function(e){return e.outputName}),s=i.some(function(e){return e.client}),a=i.some(function(e){return e.stream});r=i.length>1?i.length:o?o.outputName+"/"+i[0].filename:""+i[0].filename;var l="";if(e.sequence)l=isFinite(t.props.totalFrames)?" (frame "+(e.frame+1)+" / "+t.props.totalFrames+")":" (frame "+e.frame+")";else i.length>1&&(l=" files");console.log("%c["+(s?"canvas-sketch-cli":"canvas-sketch")+"]%c "+(a?"Streaming into":"Exported")+" %c"+r+"%c"+l,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"==typeof t.sketch.postExport&&t.sketch.postExport(),n})},q.prototype._wrapContextScale=function(e){this._preRender(),e(this.props),this._postRender()},q.prototype._preRender=function(){var e=this.props;this.props.gl||!e.context||e.p5?e.p5&&e.p5.scale(e.scaleX/e.pixelRatio,e.scaleY/e.pixelRatio):(e.context.save(),!1!==this.settings.scaleContext&&e.context.scale(e.scaleX,e.scaleY))},q.prototype._postRender=function(){var e=this.props;this.props.gl||!e.context||e.p5||e.context.restore(),e.gl&&!1!==this.settings.flush&&!e.p5&&e.gl.flush()},q.prototype.tick=function(){this.sketch&&"function"==typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},q.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},q.prototype.submitDrawCall=function(){if(this.sketch){var e,t=this.props;return this._preRender(),"function"==typeof this.sketch?e=this.sketch(t):"function"==typeof this.sketch.render&&(e=this.sketch.render(t)),this._postRender(),e}},q.prototype.update=function(e){var t=this;void 0===e&&(e={});var n=["animate"];Object.keys(e).forEach(function(e){if(n.indexOf(e)>=0)throw new Error("Sorry, the { "+e+" } option is not yet supported with update().")});var i=this._settings.canvas,r=this._settings.context;for(var o in e){var s=e[o];void 0!==s&&(t._settings[o]=s)}var a=Object.assign({},this._settings,e);if("time"in e&&"frame"in e)throw new Error("You should specify { time } or { frame } but not both");if("time"in e?delete a.frame:"frame"in e&&delete a.time,"duration"in e&&"totalFrames"in e)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in e?delete a.totalFrames:"totalFrames"in e&&delete a.duration,"data"in e&&(this._props.data=e.data);var l=this.getTimeProps(a);if(Object.assign(this._props,l),i!==this._settings.canvas||r!==this._settings.context){var c=I(this._settings),u=c.context;this.props.canvas=c.canvas,this.props.context=u,this._setupGLKey(),this._appendCanvasIfNeeded()}return e.p5&&"function"!=typeof e.p5&&(this.props.p5=e.p5,this.props.p5.draw=function(){t._isP5Resizing||(t._lastRedrawResult=t.submitDrawCall())}),"playing"in e&&(e.playing?this.play():this.pause()),P(this._settings),this.resize(),this.render(),this.props},q.prototype.resize=function(){var e=this._getSizeProps(),t=this.settings,n=this.props,i=W(n,t);Object.assign(this._props,i);var r=this.props,o=r.pixelRatio,s=r.canvasWidth,a=r.canvasHeight,l=r.styleWidth,c=r.styleHeight,u=this.props.canvas;u&&!1!==t.resizeCanvas&&(n.p5?u.width===s&&u.height===a||(this._isP5Resizing=!0,n.p5.pixelDensity(o),n.p5.resizeCanvas(s/o,a/o,!1),this._isP5Resizing=!1):(u.width!==s&&(u.width=s),u.height!==a&&(u.height=a)),p()&&!1!==t.styleCanvas&&(u.style.width=l+"px",u.style.height=c+"px"));var h=this._getSizeProps(),f=!g(e,h);return f&&this._sizeChanged(),f},q.prototype._sizeChanged=function(){this.sketch&&"function"==typeof this.sketch.resize&&this.sketch.resize(this.props)},q.prototype.animate=function(){if(this.props.playing)if(p()){this._raf=window.requestAnimationFrame(this._animateHandler);var e=a(),t=1e3/this.props.fps,n=e-this._lastTime,i=this.props.duration,r="number"==typeof i&&isFinite(i),o=!0,s=this.settings.playbackRate;"fixed"===s?n=t:"throttle"===s?n>t?this._lastTime=e-=n%t:o=!1:this._lastTime=e;var l=n/1e3,c=this.props.time+l*this.props.timeScale;c<0&&r&&(c=i+c);var u=!1,h=!1;if(r&&c>=i&&(!1!==this.settings.loop?(o=!0,c%=i,h=!0):(o=!1,c=i,u=!0),this._signalEnd()),o){this.props.deltaTime=l,this.props.time=c,this.props.playhead=this._computePlayhead(c,i);var f=this.props.frame;this.props.frame=this._computeCurrentFrame(),h&&this._signalBegin(),f!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}u&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},q.prototype.dispatch=function(e){if("function"!=typeof e)throw new Error("must pass function into dispatch()");e(this.props),this.render()},q.prototype.mount=function(){this._appendCanvasIfNeeded()},q.prototype.unmount=function(){p()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},q.prototype._appendCanvasIfNeeded=function(){p()&&(!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas))},q.prototype._setupGLKey=function(){var e;this.props.context&&("function"==typeof(e=this.props.context).clear&&"function"==typeof e.clearColor&&"function"==typeof e.bufferData?this._props.gl=this.props.context:delete this._props.gl)},q.prototype.getTimeProps=function(e){void 0===e&&(e={});var t=e.duration,n=e.totalFrames,i=h(e.timeScale,1),r=h(e.fps,24),o="number"==typeof t&&isFinite(t),s="number"==typeof n&&isFinite(n),a=o?Math.floor(r*t):void 0,l=s?n/r:void 0;if(o&&s&&a!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");void 0===e.dimensions&&void 0!==e.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=h(n,a,Infinity),t=h(t,l,Infinity);var c=e.time,u=e.frame,p="number"==typeof c&&isFinite(c),f="number"==typeof u&&isFinite(u),d=0,m=0,g=0;if(p&&f)throw new Error("You should specify either start frame or time, but not both.");return p?(g=this._computePlayhead(d=c,t),m=this._computeFrame(g,d,n,r)):f&&(g=this._computePlayhead(d=(m=u)/r,t)),{playhead:g,time:d,frame:m,duration:t,totalFrames:n,fps:r,timeScale:i}},q.prototype.setup=function(e){var t=this;if(void 0===e&&(e={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},e,this._settings),P(this._settings);var n=I(this._settings),i=n.context,r=n.canvas,o=this.getTimeProps(this._settings);this._props=Object.assign({},o,{canvas:r,context:i,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return t.render()},togglePlay:function(){return t.togglePlay()},dispatch:function(e){return t.dispatch(e)},tick:function(){return t.tick()},resize:function(){return t.resize()},update:function(e){return t.update(e)},exportFrame:function(e){return t.exportFrame(e)},record:function(){return t.record()},play:function(){return t.play()},pause:function(){return t.pause()},stop:function(){return t.stop()}}),this._setupGLKey(),this.resize()},q.prototype.loadAndRun=function(e,t){var n=this;return this.load(e,t).then(function(){return n.run(),n})},q.prototype.unload=function(){var e=this;this.pause(),this.sketch&&("function"==typeof this.sketch.unload&&this._wrapContextScale(function(t){return e.sketch.unload(t)}),this._sketch=null)},q.prototype.destroy=function(){this.unload(),this.unmount()},q.prototype.load=function(e,t){var n=this;if("function"!=typeof e)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),void 0!==t&&this.update(t),this._preRender();var i=Promise.resolve();if(this.settings.p5){if(!p())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");i=new Promise(function(e){var t,i=n.settings.p5;i.p5&&(t=i.preload,i=i.p5);var r=function(i){t&&(i.preload=function(){return t(i)}),i.setup=function(){var t=n.props,r="webgl"===n.settings.context,o=r?i.WEBGL:i.P2D;i.noLoop(),i.pixelDensity(t.pixelRatio),i.createCanvas(t.viewportWidth,t.viewportHeight,o),r&&n.settings.attributes&&i.setAttributes(n.settings.attributes),n.update({p5:i,canvas:i.canvas,context:i._renderer.drawingContext}),e()}};if("function"==typeof i)new i(r);else{if("function"!=typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");r(window)}})}return i.then(function(){var t=e(n.props);return l(t)||(t=Promise.resolve(t)),t}).then(function(e){return e||(e={}),n._sketch=e,p()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n}).catch(function(e){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+e.message),e})},Object.defineProperties(q.prototype,B);var U="hot-id-cache",$=[];function Y(e,t){if(void 0===t&&(t={}),t.p5){if(t.canvas||t.context&&"string"!=typeof t.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');t=Object.assign({},t,{canvas:!1,context:"string"==typeof t.context&&t.context})}var n,i,r=(n=u())&&n.hot;r&&(i=h(t.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var o=r&&"string"==typeof i;o&&$.includes(i)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",i),o=!1);var s=Promise.resolve();if(o){$.push(i);var a=function(e){var t=u();if(t)return t[U]=t[U]||{},t[U][e]}(i);if(a){var l=function(){var e,n=(e=a.manager,t.animate?{time:e.props.time}:void 0);return a.manager.destroy(),n};s=a.load.then(l).catch(l)}}return s.then(function(n){var r,s,a,l,c=new q;return e?(t=Object.assign({},t,n),c.setup(t),c.mount(),r=c.loadAndRun(e)):r=Promise.resolve(c),o&&(s=i,a={load:r,manager:c},(l=u())&&(l[U]=l[U]||{},l[U][s]=a)),r})}return Y.canvasSketch=Y,Y.PaperSizes=F,Y})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],7:[function(e,t,n){t.exports=function(e){var t=Math.cos(e*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}},{}],8:[function(e,t,n){!function(){"use strict";var e=.5*(Math.sqrt(3)-1),i=(3-Math.sqrt(3))/6,r=1/6,o=(Math.sqrt(5)-1)/4,s=(5-Math.sqrt(5))/20;function a(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,n=0,i=1,r=(o=4022871197,function(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(o+=e.charCodeAt(t));n-=o=n>>>0,o=(n*=o)>>>0,o+=4294967296*(n-=o)}return 2.3283064365386963e-10*(o>>>0)});var o;e=r(" "),t=r(" "),n=r(" ");for(var s=0;s<arguments.length;s++)(e-=r(arguments[s]))<0&&(e+=1),(t-=r(arguments[s]))<0&&(t+=1),(n-=r(arguments[s]))<0&&(n+=1);return r=null,function(){var r=2091639*e+2.3283064365386963e-10*i;return e=t,t=n,n=r-(i=0|r)}}(e):Math.random,this.p=l(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function l(e){var t,n=new Uint8Array(256);for(t=0;t<256;t++)n[t]=t;for(t=0;t<255;t++){var i=t+~~(e()*(256-t)),r=n[t];n[t]=n[i],n[i]=r}return n}a.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,n){var r,o,s=this.permMod12,a=this.perm,l=this.grad3,c=0,u=0,h=0,p=(t+n)*e,f=Math.floor(t+p),d=Math.floor(n+p),m=(f+d)*i,g=t-(f-m),y=n-(d-m);g>y?(r=1,o=0):(r=0,o=1);var w=g-r+i,v=y-o+i,b=g-1+2*i,x=y-1+2*i,k=255&f,M=255&d,_=.5-g*g-y*y;if(_>=0){var E=3*s[k+a[M]];c=(_*=_)*_*(l[E]*g+l[E+1]*y)}var S=.5-w*w-v*v;if(S>=0){var T=3*s[k+r+a[M+o]];u=(S*=S)*S*(l[T]*w+l[T+1]*v)}var A=.5-b*b-x*x;if(A>=0){var j=3*s[k+1+a[M+1]];h=(A*=A)*A*(l[j]*b+l[j+1]*x)}return 70*(c+u+h)},noise3D:function(e,t,n){var i,o,s,a,l,c,u,h,p,f,d=this.permMod12,m=this.perm,g=this.grad3,y=(e+t+n)*(1/3),w=Math.floor(e+y),v=Math.floor(t+y),b=Math.floor(n+y),x=(w+v+b)*r,k=e-(w-x),M=t-(v-x),_=n-(b-x);k>=M?M>=_?(l=1,c=0,u=0,h=1,p=1,f=0):k>=_?(l=1,c=0,u=0,h=1,p=0,f=1):(l=0,c=0,u=1,h=1,p=0,f=1):M<_?(l=0,c=0,u=1,h=0,p=1,f=1):k<_?(l=0,c=1,u=0,h=0,p=1,f=1):(l=0,c=1,u=0,h=1,p=1,f=0);var E=k-l+r,S=M-c+r,T=_-u+r,A=k-h+2*r,j=M-p+2*r,R=_-f+2*r,P=k-1+.5,F=M-1+.5,C=_-1+.5,z=255&w,H=255&v,O=255&b,D=.6-k*k-M*M-_*_;if(D<0)i=0;else{var N=3*d[z+m[H+m[O]]];i=(D*=D)*D*(g[N]*k+g[N+1]*M+g[N+2]*_)}var W=.6-E*E-S*S-T*T;if(W<0)o=0;else{var L=3*d[z+l+m[H+c+m[O+u]]];o=(W*=W)*W*(g[L]*E+g[L+1]*S+g[L+2]*T)}var I=.6-A*A-j*j-R*R;if(I<0)s=0;else{var q=3*d[z+h+m[H+p+m[O+f]]];s=(I*=I)*I*(g[q]*A+g[q+1]*j+g[q+2]*R)}var B=.6-P*P-F*F-C*C;if(B<0)a=0;else{var U=3*d[z+1+m[H+1+m[O+1]]];a=(B*=B)*B*(g[U]*P+g[U+1]*F+g[U+2]*C)}return 32*(i+o+s+a)},noise4D:function(e,t,n,i){var r,a,l,c,u,h,p,f,d,m,g,y,w,v,b,x,k,M=this.perm,_=this.grad4,E=(e+t+n+i)*o,S=Math.floor(e+E),T=Math.floor(t+E),A=Math.floor(n+E),j=Math.floor(i+E),R=(S+T+A+j)*s,P=e-(S-R),F=t-(T-R),C=n-(A-R),z=i-(j-R),H=0,O=0,D=0,N=0;P>F?H++:O++,P>C?H++:D++,P>z?H++:N++,F>C?O++:D++,F>z?O++:N++,C>z?D++:N++;var W=P-(h=H>=3?1:0)+s,L=F-(p=O>=3?1:0)+s,I=C-(f=D>=3?1:0)+s,q=z-(d=N>=3?1:0)+s,B=P-(m=H>=2?1:0)+2*s,U=F-(g=O>=2?1:0)+2*s,$=C-(y=D>=2?1:0)+2*s,Y=z-(w=N>=2?1:0)+2*s,K=P-(v=H>=1?1:0)+3*s,G=F-(b=O>=1?1:0)+3*s,V=C-(x=D>=1?1:0)+3*s,Q=z-(k=N>=1?1:0)+3*s,X=P-1+4*s,Z=F-1+4*s,J=C-1+4*s,ee=z-1+4*s,te=255&S,ne=255&T,ie=255&A,re=255&j,oe=.6-P*P-F*F-C*C-z*z;if(oe<0)r=0;else{var se=M[te+M[ne+M[ie+M[re]]]]%32*4;r=(oe*=oe)*oe*(_[se]*P+_[se+1]*F+_[se+2]*C+_[se+3]*z)}var ae=.6-W*W-L*L-I*I-q*q;if(ae<0)a=0;else{var le=M[te+h+M[ne+p+M[ie+f+M[re+d]]]]%32*4;a=(ae*=ae)*ae*(_[le]*W+_[le+1]*L+_[le+2]*I+_[le+3]*q)}var ce=.6-B*B-U*U-$*$-Y*Y;if(ce<0)l=0;else{var ue=M[te+m+M[ne+g+M[ie+y+M[re+w]]]]%32*4;l=(ce*=ce)*ce*(_[ue]*B+_[ue+1]*U+_[ue+2]*$+_[ue+3]*Y)}var he=.6-K*K-G*G-V*V-Q*Q;if(he<0)c=0;else{var pe=M[te+v+M[ne+b+M[ie+x+M[re+k]]]]%32*4;c=(he*=he)*he*(_[pe]*K+_[pe+1]*G+_[pe+2]*V+_[pe+3]*Q)}var fe=.6-X*X-Z*Z-J*J-ee*ee;if(fe<0)u=0;else{var de=M[te+1+M[ne+1+M[ie+1+M[re+1]]]]%32*4;u=(fe*=fe)*fe*(_[de]*X+_[de+1]*Z+_[de+2]*J+_[de+3]*ee)}return 27*(r+a+l+c+u)}},a._buildPermutationTable=l,"undefined"!=typeof define&&define.amd&&define(function(){return a}),void 0!==n?n.SimplexNoise=a:"undefined"!=typeof window&&(window.SimplexNoise=a),void 0!==t&&(t.exports=a)}()},{}],9:[function(e,t,n){"use strict";t.exports=function(e){var t,n;if((e=String(e).toLowerCase()).length<3)return e;121===e.charCodeAt(0)&&(t=!0,e="Y"+e.slice(1));b.test(e)?e=e.slice(0,e.length-2):v.test(e)&&(e=e.slice(0,e.length-1));(n=w.exec(e))?a.test(n[1])&&(e=e.slice(0,e.length-1)):(n=g.exec(e))&&u.test(n[1])&&(y.test(e=n[1])?e+="e":x.test(e)?e=e.slice(0,e.length-1):h.test(e)&&(e+="e"));(n=d.exec(e))&&u.test(n[1])&&(e=n[1]+"i");(n=k.exec(e))&&a.test(n[1])&&(e=n[1]+i[n[2]]);(n=M.exec(e))&&a.test(n[1])&&(e=n[1]+r[n[2]]);(n=_.exec(e))?c.test(n[1])&&(e=n[1]):(n=m.exec(e))&&c.test(n[1])&&(e=n[1]);(n=f.exec(e))&&(c.test(n[1])||l.test(n[1])&&!h.test(n[1]))&&(e=n[1]);p.test(e)&&c.test(e)&&(e=e.slice(0,e.length-1));t&&(e="y"+e.slice(1));return e};var i={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},r={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},o="([^aeiou][^aeiouy]*)",s="([aeiouy][aeiou]*)",a=new RegExp("^"+o+"?"+s+o),l=new RegExp("^"+o+"?"+s+o+s+"?$"),c=new RegExp("^"+o+"?("+s+o+"){2,}"),u=new RegExp("^"+o+"?[aeiouy]"),h=new RegExp("^"+o+"[aeiouy][^aeiouwxy]$"),p=/ll$/,f=/^(.+?)e$/,d=/^(.+?)y$/,m=/^(.+?(s|t))(ion)$/,g=/^(.+?)(ed|ing)$/,y=/(at|bl|iz)$/,w=/^(.+?)eed$/,v=/^.+?[^s]s$/,b=/^.+?(ss|i)es$/,x=/([^aeiouylsz])\1$/,k=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,M=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,_=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/},{}],10:[function(e,t,n){function i(e){return e}t.exports=function(e,t){if(null==e)return e;var n="string"==typeof(t=t||{}).indent?t.indent:"  ",r=t.newline||"\n"+n,o="function"==typeof t.escape?t.escape:i,s=".{1,"+(t.width||50)+"}";!0!==t.cut&&(s+="([\\s​]+|$)|[^\\s​]+?([\\s​]+|$)");var a=new RegExp(s,"g"),l=n+(e.match(a)||[]).map(function(e){return"\n"===e.slice(-1)&&(e=e.slice(0,e.length-1)),o(e)}).join(r);return!0===t.trim&&(l=l.replace(/[ \t]*$/gm,"")),l}},{}],11:[function(e,t,n){const i=e("./prng");function r(e,t){return void 0===e?t:e}function o(e){null==e&&(e=i.generateSeedFast());const t=i().seed(e);let n=null,o=!1;return{get seed(){return e},set seed(i){t.seed(e=i),n=null,o=!1},value:s,valueNonZero:function(){var e=0;for(;0===e;)e=s();return e},sign:function(){return a()?1:-1},boolean:a,chance:function(e){if("number"!=typeof(e=r(e,.5)))throw new TypeError("expected n to be a number");return s()<e},range:l,rangeFloor:c,pick:function(e){return 0===e.length?void 0:e[c(0,e.length)]},shuffle:u,onCircle:h,insideCircle:function(e,t){e=r(e,1),h(1,t=t||[]);var n=e*Math.sqrt(s());return t[0]*=n,t[1]*=n,t},onSphere:function(e,t){e=r(e,1),t=t||[];var n=s()*Math.PI*2,i=2*s()-1,o=n,a=Math.acos(i);return t[0]=e*Math.sin(a)*Math.cos(o),t[1]=e*Math.sin(a)*Math.sin(o),t[2]=e*Math.cos(a),t},insideSphere:function(e,t){e=r(e,1),t=t||[];var n=s()*Math.PI*2,i=2*s()-1,o=s(),a=n,l=Math.acos(i),c=e*Math.cbrt(o);return t[0]=c*Math.sin(l)*Math.cos(a),t[1]=c*Math.sin(l)*Math.sin(a),t[2]=c*Math.cos(l),t},quaternion:function(e){e=e||[];var t=s(),n=s(),i=s(),r=Math.sqrt(1-t),o=Math.sqrt(t),a=2*Math.PI*n,l=2*Math.PI*i,c=Math.sin(a)*r,u=Math.cos(a)*r,h=Math.sin(l)*o,p=Math.cos(l)*o;return e[0]=c,e[1]=u,e[2]=h,e[3]=p,e},weighted:f,weightedSet:function(e){return 0===(e=e||[]).length?null:e[p(e)].value},weightedSetIndex:p,deck:function(e){e=u(e);let t=0;return{get array(){return e},get index(){return t},get current(){return e[t]},next(){let n=this.current;return++t>e.length-1&&(this.shuffle(),t=0),n},nextIndex(){let n=t;return++t>e.length-1&&(this.shuffle(),t=0),n},shuffle(){e=u(e)}}},gaussian:function(e,t){if(e=r(e,0),t=r(t,1),o){o=!1;var i=n;return n=null,e+t*i}var a=0,l=0,c=0;do{a=2*s()-1,l=2*s()-1,c=a*a+l*l}while(c>=1||0===c);var u=Math.sqrt(-2*Math.log(c)/c);return n=l*u,o=!0,e+t*(a*u)}};function s(){return t.next()}function a(){return s()>.5}function l(e,t){if(void 0===t&&(t=e,e=0),"number"!=typeof e||"number"!=typeof t)throw new TypeError("Expected all arguments to be numbers");return s()*(t-e)+e}function c(e,t){if(void 0===t&&(t=e,e=0),"number"!=typeof e||"number"!=typeof t)throw new TypeError("Expected all arguments to be numbers");return Math.floor(l(e,t))}function u(e){if(!Array.isArray(e))throw new TypeError("Expected Array, got "+typeof e);for(var t,n,i=e.length,r=e.slice();i;)t=Math.floor(s()*i--),n=r[i],r[i]=r[t],r[t]=n;return r}function h(e,t){e=r(e,1),t=t||[];var n=2*s()*Math.PI;return t[0]=e*Math.cos(n),t[1]=e*Math.sin(n),t}function p(e){return 0===(e=e||[]).length?-1:f(e.map(function(e){return e.weight}))}function f(e){if(0===(e=e||[]).length)return-1;var t,n=0;for(t=0;t<e.length;t++)n+=e[t];if(n<=0)throw new Error("Weights must sum to > 0");var i=s()*n;for(t=0;t<e.length;t++){if(i<e[t])return t;i-=e[t]}return 0}}o.seed=i.generateSeedFast,o.pureSeed=i.generateSeed,t.exports=o},{"./prng":16}],12:[function(e,t,n){class i{constructor(e,t,n=0){this.bounds=o(e),this.depth=n,this.children=[],this.parent=t}get x(){const[e]=this.bounds;return e[0]}set x(e){this.bounds[0][0]=e}get y(){const[e]=this.bounds;return e[1]}set y(e){this.bounds[0][1]=e}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get width(){const[e,t]=this.bounds;return t[0]-e[0]}get height(){const[e,t]=this.bounds;return t[1]-e[1]}get leaf(){return this.parent&&0===this.children.length}detach(){if(this.parent){const e=this.parent.children.indexOf(this);this.parent.children.splice(e,1)}}}function r({cellWidth:e,cellHeight:t,offset:n,rows:r,columns:o,maxDepth:s=3,minDimension:a,splitter:l,round:c=!0,filter:u=(()=>!0),shouldSplit:h=(()=>!0),random:p=(()=>Math.random()),variance:f=.5,squariness:d=.5}){const m=(e=1,t=1)=>p()/Math.pow(e,t)<.5;function g([i,r]){return i-=n[0],r-=n[1],i=Math.floor(i/e)*e,r=Math.floor(r/t)*t,[i+=n[0],r+=n[1]]}function y(e){if(!isFinite(a))return!0;const[t,n]=e;return n[0]-t[0]>=a&&n[1]-t[1]>=a}l=l||function(e){const[t,n]=e.bounds,i=n[0]-t[0],r=n[1]-t[1],o=.5*f,s=function(e,t){return p()*(t-e)+e}(.5-o,.5+o),a=m(i/r,d),l=p()>.5;return function(e,t=.5,n=!0,i=!1){const[r,o]=e,[s,a]=r,[l,c]=o,u=l-s,h=c-a;t=Math.max(0,Math.min(1,t));let p,f,d=(n?u:h)*(t=i?1-t:t);return n?(p=[[s,a],[s+d,c]],f=[[s+d,a],[l,c]]):(p=[[s,a],[l,a+d]],f=[[s,a+d],[l,c]]),[p,f]}(e.bounds,s,a,l).map(e=>(function([e,t]){return[g(e),g(t)]})(e))};const[w,v]=n,b=new i([[w,v],[w+e*o,v+t*r]]);return function e(t){if(t.depth<s&&h(t)){const n=l(t)||[];t.children=n.filter(y).map(e=>new i(e,t,t.depth+1)).filter(u),t.children.forEach(e)}}(b),b}function o(e){return e.map(e=>e.slice())}t.exports=r,t.exports.walk=function(e,t=(()=>{})){!function e(n){t(n),n.children.forEach(e)}(e)},t.exports.walkAll=function(e,t=(()=>{})){const n=[e];for(;n.length>0;){const e=n.pop();t(e);const i=[...e.children];i.length>0&&n.push(...i)}},t.exports.list=function(e,{leafOnly:t=!1,maxDepth:n=Infinity}={}){const i=[{depth:0,node:e}],r=[];for(;i.length>0;){const{node:e,depth:o=0}=i.pop();if(!(o>=n)&&(t&&!e.leaf||r.push(e),o<n)){const t=[...e.children].map(e=>({node:e,depth:o+1}));t.length>0&&i.push(...t)}}return r.reverse()},t.exports.bsp=r,t.exports.Partition=i,t.exports.copyBounds=o},{}],13:[function(e,t,n){const i=e("stemmer"),r=e("./stopwords-en.json"),o=(new Set(r.map(e=>i(e))),new Set(r)),s=["CC","CD","DT","EX","IN","LS","MD","PRP","SYM","TO","UH","WDT","WP","WP$","WRB"];t.exports=function(e,t){const n=e.filter(e=>!o.has(e));if(!n.length)return[];const i=e.map(e=>{return[e,e in t?t[e]:"NN"]}).filter(e=>!s.includes(e[1]));if(!i.length)return[];const r=i.filter(e=>!e[1].startsWith("VB"));return r.length?(r.length?r:i).map(e=>e[0]):[]}},{"./stopwords-en.json":18,stemmer:9}],14:[function(e,t,n){const i=e("./findFocusWords");async function r(e){const t=await fetch(e);return(await t.text()).split("\n").filter(Boolean)}const o=e=>e.replace(/\'[a-z]+/g,"").replace(/\-/g," ").split(/\s+/g).filter(Boolean);t.exports=async function(e){const[t,n]=await Promise.all([r("./assets/haiku-best.txt"),r("./assets/associations.txt")]),s=["spring","summer","winter","autumn"],a=new Map,l=new Map;n.forEach(e=>{const t=e.split(","),n=t[0],i=t.slice(1),r=s.includes(n);i.forEach(e=>{const t=s.includes(e);r&&t||(a.has(n)||a.set(n,new Set),l.has(e)||l.set(e,new Set),a.get(n).add(e),l.get(e).add(n))})});const c=[...a.keys()],u=(e,t)=>{const n=o(e),i=t.split(" "),r=n.indexOf("spring");n.length===i.length&&r>=0&&(i[r]="NN",t=i.join(" "));const s=new Set(n),a=[e,t].join("/");return[e,t,s,a]},h=[],p=[];t.forEach(e=>{const t=e.split("/");if(2===t.length)h.push(u(t[0],t[1]));else{const e=t.slice(0,2),n=t.slice(2);p.push([u(e[0],n[0]),u(e[1],n[1])])}});const f={},d=[];[...h,...p.flat()].forEach(([e,t,n])=>{const i=[...n],r=t.split(" ");i.length===r.length&&i.forEach((e,t)=>{e in f||(f[e]=r[t],"NN"!==r[t]||d.includes(e)||!a.has(e)&&!l.has(e)||d.push(e))})});const m=new Map,g=new Map;return s.forEach(e=>{const t=e,n=M(e);if(m.has(t)){const e=m.get(t);n.forEach(t=>e.push(t))}else m.set(t,n);n.forEach(e=>{g.has(e)||g.set(e,[]),g.get(e).push(t)})}),{haikusRaw:t,cuesToTargets:a,targetsToCues:l,neighbours:M,associated:k,randomWord:function(){return e.pick(c)},gatherThemes:_,haiku:v,findSeason:y,walkAssociations:E};function y(e){let t={winter:0,autumn:0,spring:0,summer:0},n=new Set;if(e.forEach(e=>{"fall"===e&&(e="autumn"),s.includes(e)&&n.add(e)}),1===n.size){const e=[...n][0];t[e]++}else e.forEach(e=>{"fall"===e&&(e="autumn"),s.includes(e)?t[e]++:g.has(e)&&g.get(e).forEach(e=>{"fall"===e&&(e="autumn"),e in t&&t[e]++})});const i=Object.entries(t).sort((e,t)=>t[1]-e[1]),r=i.filter(e=>e[1]>0).map(e=>e[0]);return{seasons:r,season:1===r.length?r[0]:null,matches:i}}function w(e,t){if(!e||0===e.length)return t.slice();const n=[];return t.forEach(t=>{const i="fall"===t?"autumn":t;s.includes(i)?(e.includes(i)||e.includes(t))&&n.push(t):n.push(t)}),n}function v(t,n=25,r=10){const a=y(t).seasons;let l=[];a.length>0&&(l=s.filter(e=>{const t="autumn"===e?"fall":e;return!a.includes(e)&&!a.includes(t)}));const c=w(a,[...new Set([...t,...k(t)])]),u=(w(a,[...new Set([...t,...t.map(e=>M(e)).flat()])]),[]),h=[...new Set([...t])],d=x(c,{stanza:0,minAttempts:0,exclude:[...l]});if(d.length<=3)return[];for(let t=0;u.length<r&&t<n;t++){const[t,n]=e.pick(d),r=(m=o(t),i(m,f)).filter(e=>!h.includes(e));if(0===r.length)continue;const s=w(a,k([...r]).filter(e=>!r.includes(e)&&!h.includes(e)).slice(0,10));if(0===s.length)continue;const c=x(s,{stanza:1,minAttempts:0,minSize:5,exclude:[...o(t),...l]});if(c.length<=3)continue;const[g,y]=e.pick(c),v=[];p.forEach(e=>{const[t,n]=e;t[1]===y&&v.push(n[1])});const b=w(a,[...new Set(s.slice(0,5).map(e=>_(e)).flat().filter(e=>!h.includes(e)&&!r.includes(e)&&!s.includes(e)))]),M=x(b,{stanza:2,minSize:5,minAttempts:0,patterns:v,exclude:[...o(t),...o(g),...l,...r,...s]});if(M.length<=3)continue;const[E,S]=e.pick(M),T=[t,g,E];u.push({poem:T,patterns:[n,y,S],themesClose:s,themesFar:b})}var m;u.forEach(e=>{const t=e.poem.map(e=>o(e)),n=function(e,t,n,i){const r=function(e){const t=new Set,n=new Set;return e.forEach(i=>{const r=M(i);e.forEach(e=>{if(i===e)return;const o=[i,e];o.sort();const s=o.join(":");r.includes(e)?t.has(s)||t.add(s):M(e).some(e=>r.includes(e))&&(n.has(s)||n.add(s))})}),[t.size,n.size]}([...t,...n,...i]);r.reduce((e,t)=>e+t,0),Math.sqrt(r[0]*r[0]+r[1]*r[1]),Math.abs(r[0]),Math.abs(r[1]);let o=r.slice();const s=[...new Set([...t,...t.map(e=>M(e,!0)).flat()])],a=[...new Set([...n,...n.map(e=>M(e,!0)).flat()])],l=[...new Set([...i,...i.map(e=>M(e,!0)).flat()])],c=b(s,a),u=b(a,l),h=b(s,l),p=[c,u,h].reduce((e,t)=>e+(t>0?1:0),0)>=2?1:0,f=(new Set([...s,...a,...l]),b(s,e)),d=b(a,e),m=b(l,e);return([f,d,m].reduce((e,t)=>e+(t>0?1:0),0)>=1?1:0)*p*(-1*o[0]+o[1])}(c,t[0],t[1],t[2]);e.debug=[e.poem.join("/"),"---",n].join(" "),e.weight=n,e.value=e.poem}),u.sort((e,t)=>t.weight-e.weight);const g=u.map(e=>({value:e.poem,weight:e.weight}));return g}function b(e,t){let n=0;for(let i=0;i<e.length;i++)for(let r=0;r<t.length;r++)e[i]===t[r]&&n++;return n}function x(e="",{stanza:t=0,include:n=[],exclude:i=[],attempts:r=0,maxAttempts:o=3,minAttempts:s=0,minSize:a=10,patterns:l=null}={}){if(e=(Array.isArray(e)?e:[e]).filter(Boolean),l=(Array.isArray(l)?l:[l]).filter(Boolean),e.length<=0)return[];const c={};if(n.forEach(e=>{const[t,n,i,r]=e;r in c||(c[r]=e)}),0===t)h.forEach(e=>{f(e)});else{const e=t-1;if(0!==e&&1!==e)throw new Error("Stanza must be 0, 1, or 2");p.forEach(t=>{const n=t[e];f(n)})}const u=Object.values(c);if(r<s||u.length<a&&r<o){let n=e.map(e=>M(e)).flat();return x(n,{include:u,attempts:r+1,maxAttempts:o,minAttempts:s,minSize:a,patterns:l,stanza:t})}return u;function f(t){const[n,r,o,s]=t;if(!(s in c||i.some(e=>o.has(e)))){let n=0===l.length||l.includes(r);n&&e.some(e=>o.has(e))&&(c[s]=t)}}}function k(e){e=Array.isArray(e)?e:[e];const t=[];e.forEach(e=>{t.push(M(e))});const n=[...new Set(t.flat().filter(t=>!e.includes(t)))],i=n.map(n=>{let i=0;return t.forEach(e=>{e.includes(n)&&i++}),e.forEach(e=>{a.has(e)&&a.get(e).has(n)&&(i+=1)}),!(i<=1)&&{word:n,score:i}}).filter(Boolean);return i.sort((e,t)=>t.score-e.score),i.map(e=>e.word)}function M(e,t=!1){e=e.toLowerCase();const n=new Set(a.get(e)||[]),i=t?[]:new Set(l.get(e)||[]),r=[...new Set([...n,...i])].filter(t=>t!==e);return r}function _(e){return Array.from(new Set([...E(e.toLowerCase(),1,10,1,4),...E(e.toLowerCase(),5,10,1,1)]))}function E(t,n=1,i=8,r=1,o=4){const s=new Set;t=t.toLowerCase(),s.add(t);for(let t=0;t<n;t++){let t=e.pick(Array.from(s));for(let n=0;n<i;n++){let n=t;const i=e.rangeFloor(r,o);e:for(let t=0;t<i;t++){const t=e.boolean(),i=Array.from((t?a.get(n):l.get(n))||[]);if(0===i.length)break e;n=e.pick(i)}s.add(n)}}return Array.from(s)}},t.exports.tokenize=o},{"./findFocusWords":13}],15:[function(e,t,n){t.exports=function({parentWidth:e,parentHeight:t,childWidth:n,childHeight:i,fit:r="contain",scale:o=1,padding:s=0,offsetX:a=.5,offsetY:l=.5}){const c=n/i,u=e/t;let h=n*o,p=i*o,f=0,d=0;if("scale-down"===r){if(h>e||p>t){const r=Math.min(e/n,t/i);h=n*o*r-2*s,p=i*o*r-2*s}}else if("contain"===r||"cover"===r){h=e*o,p=t*o,("contain"===r?c>u:c<u)?p=h/c:h=p*c}else"fill"===r&&(h=e*o,p=t*o);return[f=(e-h)*a,d=(t-p)*l,h,p]}},{}],16:[function(e,t,n){const i=4294967295,r=4294967296;let o;const s=a().seed(988523490);function a(){const e=624,t=397;let n=new Uint32Array(e),o=0;const s=2147483648,a=2147483647,l=new Uint32Array(2);return l[0]=0,l[1]=2567483615,{seed:function(t){n[0]=t>>>0;for(let t=1;t<e;t++){var i=n[t-1]^n[t-1]>>>30;n[t]=(1812433253*((4294901760&i)>>>16)<<16)+1812433253*(65535&i)+t,n[t]>>>=0}return u(),this},next_uint32:c,next:function(){return c()*(1/r)},nextIncludingOne:function(){return c()*(1/i)}};function c(){o>=e&&u();let t=n[o++];return t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0}function u(){let i,r;for(i=0;i<e-t;i++)n[i]=n[i+t]^(r=n[i]&s|n[i+1]&a)>>>1^l[1&r];for(;i<e-1;i++)n[i]=n[i+(t-e)]^(r=n[i]&s|n[i+1]&a)>>>1^l[1&r];n[e-1]=n[t-1]^(r=n[e-1]&s|n[0]&a)>>>1^l[1&r],o=0}}a.generateSeedFast=function(){return Math.floor(s.next()*i)},a.generateSeed=function(){if(window.crypto&&window.crypto.getRandomValues)return o||(o=new Uint32Array(1)),window.crypto.getRandomValues(o),o[0];return Math.floor(Math.random()*i)},a.MAX_VALID_UINT32=i,t.exports=a},{}],17:[function(e,t,n){const i=e("simplex-noise"),r=e("./Random"),o=e("canvas-sketch-util/math"),s=e("./objectFit"),a=e("./load-data"),l=(e("eases/sine-in"),e("./bsp")),c=e("./tree-util"),u=e("word-wrap"),h=window.location.search.includes("frame"),p=window.location.search.includes("print"),f=h||p,d=!window.location.search.includes("nohighlight");let m=r.seed();const g={hotkeys:f,animate:!f};g.suffix=m,f&&(g.exportPixelRatio=4);t.exports.sketch=(async e=>{const t={bold:{url:"assets/fonts/SilkaMono-Semibold.otf",name:"SilkaMono-Bold"},regular:{url:"assets/fonts/SilkaMono-Regular.otf",name:"SilkaMono-Light"}};await Promise.all(Object.values(t).map(async e=>{const t=new window.FontFace(e.name,`url(${e.url})`);await t.load(),document.fonts.add(t)}));const{data:n={}}=e,g=n.svg,y=t.regular.name,w=!1,v=r(m),b=8;let x;const k="black",M="hsl(0, 0%, 95%)",_=await a(v),E=new i(v.value);let S="",T=!0;const A=.53;let j=0;const R="spring",P=f?{value:"",selectionStart:0}:function(e={}){const t=document.createElement("input");return document.body.appendChild(t),Object.assign(t.style,{position:"absolute",opacity:"0",left:"0",top:"0"}),t.focus(),t.addEventListener("input",function(t){e.changed(t)}),t.addEventListener("focus",e=>{t.value=t.value},!1),t.addEventListener("keydown",t=>{if(13===t.keyCode)return t.preventDefault(),e.submit(t),!1}),window.addEventListener("click",()=>t.focus()),t}({submit:()=>{Q(),V()},changed:()=>{!S&&P.value&&(T=!0,j=0),S=P.value,Q(),C=setTimeout(V,z)}});let F=0,C=null;const z=1e3,H=1/24;let O,D,N,W=[],L=[],I=[],q=[],B="type in a prompt (winter, flower, moon...)";const U=document.createElement("canvas"),$=U.getContext("2d");let Y=!1,K=!1;X($),X(e.context);const G={columns:60,rows:40,x:0,y:0,cellWidth:1.15*x,cellHeight:1.15*b};return J(e),V(),console.log("Font",x,b,G.cellWidth,G.cellHeight),console.log(G.cellWidth/2-x/2),console.log(G.cellHeight/2-b/2),{render:function(e){if(function(e){const{width:n,height:i,data:r={}}=e,a=w?e.context:$;a.save(),w||a.scale(e.scaleX,e.scaleY),Y&&(g?a.clearRect(0,0,n,i):(a.fillStyle=M,a.fillRect(0,0,n,i)),function(){I.length=0,q.length=0,W=[],L=[],N=D.slice();const e=l({cellWidth:G.cellWidth,cellHeight:G.cellHeight,offset:[G.x,G.y],rows:G.rows,columns:G.columns,variance:.5,squariness:.5,maxDepth:12,minDimension:2*G.cellWidth,shouldSplit:e=>e.width>6*G.cellWidth&&e.height>2*G.cellHeight,random:v.value});for(let t=0;t<1;t++)c.traverse(e,e=>{e.leaf&&e.parent&&v.gaussian()>0&&e.parent.detach()});(W=c.getLeafNodes(e)).sort((e,t)=>t.width*t.height-e.width*e.height),L=W.slice(),function(){const e=[];let n=0;const i=new Set;for(let r=0;r<L.length;r++){const s=L[r],[a,l,c,u]=ie(s.bounds),[h,p]=a;let[f,d]=l,m=c,g=u;if(m<=3||g<=3)continue;const y=m,w=new Array(g).fill(0).map(()=>[]);let b=O.filter(e=>e.length>=3&&e.length<=y);if(b.length>0){b=v.shuffle(b);for(let e=0;e<b.length&&e<g;e++){const t=b[e],n=[];for(let i=0;i<t.length;i++){const r=t.charAt(i);let s,a;a=Math.round(o.mapRange(i,0,t.length-1,h,f-1,!0)),s=p+e," "!==r&&n.push(ne(a,s,r,k))}n.length&&(w[e]=n)}}if(N.length&&n<10){let e=-1;e:for(let n=0;n<N.length;n++){const r=N[n];let o=te(r.value,m);if(o.length<g){Math.min(o.length,g);const r=Math.max(0,g-o.length),a=v.rangeFloor(1,r),l=h,c=p+a;if(ee(i,o,l,c))continue e;for(let e=0;e<o.length;e++){const n=o[e],r=[];for(let o=0;o<n.length;o++){const[s,a]=n[o],u=l+a,h=c+e;r.push(ne(u,h,s,k,t.bold.name,!0)),i.add([u,h].join(":"))}r.length&&(w[a+e]=r)}e=n,s.haiku=!0,s.rowspan=Math.min(o.length,g);break e}}e>=0&&(N.splice(e,1),n++)}w.forEach(t=>e.push(t))}const r=e.flat();r.filter(e=>e.coverBackground),r.forEach(e=>{if(!e.coverBackground){const t=e.position.join(":");if(i.has(t))return}I.push(e),q.unshift(e)})}()}(),Y=!1);const u=Math.min(.1,e.deltaTime);let d=!1;(j+=u)>=A&&(j%=A,T=!T),(F+=u)>H&&(F%=H,d=!0),X(a);const m=G.cellWidth*G.columns,x=G.cellHeight*G.rows,[_,E,S,R]=s({parentWidth:n,parentHeight:i,childWidth:m,childHeight:x,fit:"scale-down",padding:20,scale:1,offsetX:.5,offsetY:.5});if(a.save(),d||f){const e=f?Infinity:100;for(let t=q.length-1,n=0;t>=0&&n<e;t--,n++){const e=q[t];f?(e.slice=null,q.splice(t,1)):0===e.drawCount?e.slice=0:1===e.drawCount?e.slice=1:q.splice(t,1),se(a,e),e.drawCount++}}a.restore(),a.restore();const C=e.context;if(K){C.strokeStyle="black",C.fillStyle="black",C.globalAlpha=.5,C.beginPath();for(let e=0;e<G.rows;e++)for(let t=0;t<G.columns;t++){const n=G.x+t*G.cellWidth,i=G.y+e*G.cellHeight,r=.25;C.rect(n,i,G.cellWidth,G.cellHeight);const o=n+G.cellWidth/2,s=i+G.cellHeight/2;C.moveTo(o,s),C.arc(o,s,r,0,2*Math.PI,!1)}C.stroke(),C.globalAlpha=1}if(!w){C.clearRect(0,0,n,i),C.drawImage(U,0,0,n,i),X(C);const e=!p;if(e){C.save();const e=2;C.scale(e,e),C.translate(-G.x/e,-G.y/e),C.translate(0,2*-G.cellHeight);const t=[0,0];Z(C,y,3*b);const n=P.value,i=n.length?n:B;for(let e=0;e<i.length;e++)se(C,{symbol:i.charAt(e),position:[t[0]+e,t[1]],coverBackgroundColor:"#cecece",coverBackground:!0});if(n.length&&T&&!h&&!p){C.globalAlpha=1;const e=1,n=1.25;C.globalCompositeOperation="difference",C.fillStyle="white";const i=[P.selectionStart,0],r=oe([i[0]+t[0],i[1]+t[1]]),[o,s]=r,a=o+(G.cellWidth/2-G.cellWidth*e/2),l=s+(G.cellHeight/2-G.cellHeight*n/2);C.fillRect(a,l,G.cellWidth*e,G.cellHeight*n),C.globalCompositeOperation="source-over"}C.restore()}}}(e),e.exporting&&g)return[e.canvas,n.svgSerialize(e,{background:M,foreground:k,fontSize:b,cellWidth:G.cellWidth,cellHeight:G.cellHeight,textWidth:x,texts:I.map(e=>{const[t,n]=oe(e.position),i=.5*E.noise3D(1*t,1*n,-1),r=.5*E.noise3D(1*t,1*n,1),o=t+i,s=n+r;return{x:o,y:s,symbol:e.symbol}})})]},resize:J};function V(){Y=!0;const e=a.tokenize(P.value||R);0===e.length&&e.push(R),O=_.gatherThemes(e[0]),D=_.haiku(e,50,50).slice(0,20),N=D.slice()}function Q(){clearTimeout(C),C=null}function X(e,t=y){Z(e,t),e.textAlign="left",e.textBaseline="middle",x=e.measureText("M").width}function Z(e,t,n=b){e.font=`${n}px "${t}", "Andale Mono", "Courier New", monospace`}function J(e){const{width:t,height:n}=e,i=.075*Math.min(t,n),r=i,o=p?0:5*G.cellHeight;G.columns=Math.ceil((t-2*i)/G.cellWidth),G.rows=Math.ceil((n-2*r-o)/G.cellHeight),G.x=(t-G.columns*G.cellWidth)/2,G.y=(n-G.rows*G.cellHeight)/2,U.width=e.canvasWidth,U.height=e.canvasHeight,Y=!0,p&&(v.seed=m)}function ee(e,t,n,i){for(let r=0;r<t.length;r++){const o=t[r];for(let t=0;t<o.length;t++){const[s,a]=o[t],l=[n+a,i+r].join(":");if(e.has(l))return!0}}return!1}function te(e,t){return u(e.join("\n"),{width:t}).split("\n").map(e=>e.trim()).filter(Boolean).map(e=>{const t=[];for(let n=0;n<e.length;n++){const i=e.charAt(n);t.push([i,n])}return t})}function ne(e,t,n,i=k,r=y,o=!1){return{coverBackground:o,fontFamily:r,drawn:!1,drawCount:0,time:0,duration:0,durationIn:1,durationOut:0,started:!0,active:!0,delay:0,alpha:1,color:i,symbol:n,sort:oe([e,t])[0]+v.gaussian(0,80),position:[e,t]}}function ie([e,t]){const n=re(e),i=re(t);return[n,i,i[0]-n[0],i[1]-n[1]]}function re([e,t],[n,i]=[0,0]){return e-=G.x,t-=G.y,e-=G.cellWidth*n,t-=G.cellHeight*i,[Math.floor(e/G.cellWidth),Math.floor(t/G.cellHeight)]}function oe([e,t],[n,i]=[0,0]){return[G.x+e*G.cellWidth+G.cellWidth*n,G.y+t*G.cellHeight+G.cellHeight*i]}function se(t,{alpha:n=1,slice:i=null,color:r=k,position:o=[0,0],symbol:s="?",fontFamily:a=y,coverBackground:l=!1,coverBackgroundColor:c="#f2c615"}){const{width:u,height:h}=e,[p,f]=oe(o),m=p,g=f;t.save();const w=g+G.cellHeight/2,v=p,b=f,_=m+(G.cellWidth/2-x/2)+.5*E.noise3D(1*v,1*b,-1),S=w+.5*E.noise3D(1*v,1*b,1),T=d&&l;if(null!=i){const e=G.cellHeight/2;t.beginPath(),t.rect(m,g+e*i,G.cellWidth,e),t.clip()}T&&(t.globalAlpha=1,t.fillStyle=c,t.fillRect(m,g,G.cellWidth,G.cellHeight),t.globalAlpha=1),Z(t,a),t.fillStyle=r,T||(t.strokeStyle=M,t.lineWidth=.001*Math.min(u,h),t.strokeText(s,_,S)),t.globalAlpha=.95,t.fillText(s,_,S),t.globalAlpha=1,t.restore()}}),t.exports.settings=g},{"./Random":11,"./bsp":12,"./load-data":14,"./objectFit":15,"./tree-util":19,"canvas-sketch-util/math":4,"eases/sine-in":7,"simplex-noise":8,"word-wrap":10}],18:[function(e,t,n){t.exports=["'ll","'tis","'twas","'ve","10","39","a","a's","able","ableabout","about","above","abroad","abst","accordance","according","accordingly","across","act","actually","ad","added","adj","adopted","ae","af","affected","affecting","affects","after","afterwards","ag","again","against","ago","ah","ahead","ai","ain't","aint","al","all","allow","allows","almost","alone","along","alongside","already","also","although","always","am","amid","amidst","among","amongst","amoungst","amount","an","and","announce","another","any","anybody","anyhow","anymore","anyone","anything","anyway","anyways","anywhere","ao","apart","apparently","appear","appreciate","appropriate","approximately","aq","ar","are","area","areas","aren","aren't","arent","arise","around","arpa","as","aside","ask","asked","asking","asks","associated","at","au","auth","available","aw","away","awfully","az","b","ba","back","backed","backing","backs","backward","backwards","bb","bd","be","became","because","become","becomes","becoming","been","before","beforehand","began","begin","beginning","beginnings","begins","behind","being","beings","believe","below","beside","besides","best","better","between","beyond","bf","bg","bh","bi","big","bill","billion","biol","bj","bm","bn","bo","both","bottom","br","brief","briefly","bs","bt","but","buy","bv","bw","by","bz","c","c'mon","c's","ca","call","came","can","can't","cannot","cant","caption","case","cases","cause","causes","cc","cd","certain","certainly","cf","cg","ch","changes","ci","ck","cl","clear","clearly","click","cm","cmon","cn","co","co.","com","come","comes","computer","con","concerning","consequently","consider","considering","contain","containing","contains","copy","corresponding","could","could've","couldn","couldn't","couldnt","course","cr","cry","cs","cu","currently","cv","cx","cy","cz","d","dare","daren't","darent","date","de","dear","definitely","describe","described","despite","detail","did","didn","didn't","didnt","differ","different","differently","directly","dj","dk","dm","do","does","doesn","doesn't","doesnt","doing","don","don't","done","dont","doubtful","down","downed","downing","downs","downwards","due","during","dz","e","each","early","ec","ed","edu","ee","effect","eg","eh","eight","eighty","either","eleven","else","elsewhere","empty","end","ended","ending","ends","enough","entirely","er","es","especially","et","et-al","etc","even","evenly","ever","evermore","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","f","face","faces","fact","facts","fairly","far","farther","felt","few","fewer","ff","fi","fifteen","fifth","fifty","fify","fill","find","finds","fire","first","five","fix","fj","fk","fm","fo","followed","following","follows","for","forever","former","formerly","forth","forty","forward","found","four","fr","free","from","front","full","fully","further","furthered","furthering","furthermore","furthers","fx","g","ga","gave","gb","gd","ge","general","generally","get","gets","getting","gf","gg","gh","gi","give","given","gives","giving","gl","gm","gmt","gn","go","goes","going","gone","good","goods","got","gotten","gov","gp","gq","gr","great","greater","greatest","greetings","group","grouped","grouping","groups","gs","gt","gu","gw","gy","h","had","hadn't","hadnt","half","happens","hardly","has","hasn","hasn't","hasnt","have","haven","haven't","havent","having","he","he'd","he'll","he's","hed","hell","hello","help","hence","her","here","here's","hereafter","hereby","herein","heres","hereupon","hers","herself","herse”","hes","hi","hid","high","higher","highest","him","himself","himse”","his","hither","hk","hm","hn","home","homepage","hopefully","how","how'd","how'll","how's","howbeit","however","hr","ht","htm","html","http","hu","hundred","i","i'd","i'll","i'm","i've","i.e.","id","ie","if","ignored","ii","il","ill","im","immediate","immediately","importance","important","in","inasmuch","inc","inc.","indeed","index","indicate","indicated","indicates","information","inner","inside","insofar","instead","int","interest","interested","interesting","interests","into","invention","inward","io","iq","ir","is","isn","isn't","isnt","it","it'd","it'll","it's","itd","itll","its","itself","itse”","ive","j","je","jm","jo","join","jp","just","k","ke","keep","keeps","kept","keys","kg","kh","ki","kind","km","kn","knew","know","known","knows","kp","kr","kw","ky","kz","l","la","large","largely","last","lately","later","latest","latter","latterly","lb","lc","least","length","less","lest","let","let's","lets","li","like","liked","likely","likewise","line","little","lk","ll","long","longer","longest","look","looking","looks","low","lower","lr","ls","lt","ltd","lu","lv","ly","m","ma","made","mainly","make","makes","making","man","many","may","maybe","mayn't","maynt","mc","md","me","mean","means","meantime","meanwhile","member","members","men","merely","mg","mh","microsoft","might","might've","mightn't","mightnt","mil","mill","million","mine","minus","miss","mk","ml","mm","mn","mo","more","moreover","most","mostly","move","mp","mq","mr","mrs","ms","msie","mt","mu","much","mug","must","must've","mustn't","mustnt","mv","mw","mx","my","myself","myse”","mz","n","na","name","namely","nay","nc","nd","ne","near","nearly","necessarily","necessary","need","needed","needing","needn't","neednt","needs","neither","net","netscape","never","neverf","neverless","nevertheless","new","newer","newest","next","nf","ng","ni","nine","ninety","nl","no","no-one","nobody","non","none","nonetheless","noone","nor","normally","nos","not","noted","nothing","notwithstanding","novel","now","nowhere","np","nr","nu","null","number","numbers","nz","o","obtain","obtained","obviously","of","off","often","oh","ok","okay","old","older","oldest","om","omitted","on","once","one","one's","ones","only","onto","open","opened","opening","opens","opposite","or","ord","order","ordered","ordering","orders","org","other","others","otherwise","ought","oughtn't","oughtnt","our","ours","ourselves","out","outside","over","overall","owing","own","p","pa","page","pages","part","parted","particular","particularly","parting","parts","past","pe","per","perhaps","pf","pg","ph","pk","pl","place","placed","places","please","plus","pm","pmid","pn","point","pointed","pointing","points","poorly","possible","possibly","potentially","pp","pr","predominantly","present","presented","presenting","presents","presumably","previously","primarily","probably","problem","problems","promptly","proud","provided","provides","pt","put","puts","pw","py","q","qa","que","quickly","quite","qv","r","ran","rather","rd","re","readily","really","reasonably","recent","recently","ref","refs","regarding","regardless","regards","related","relatively","research","reserved","respectively","resulted","resulting","results","right","ring","ro","room","rooms","round","ru","run","rw","s","sa","said","same","saw","say","saying","says","sb","sc","sd","se","sec","second","secondly","seconds","section","see","seeing","seem","seemed","seeming","seems","seen","sees","self","selves","sensible","sent","serious","seriously","seven","seventy","several","sg","sh","shall","shan't","shant","she","she'd","she'll","she's","shed","shell","shes","should","should've","shouldn","shouldn't","shouldnt","show","showed","showing","shown","showns","shows","si","side","sides","significant","significantly","similar","similarly","since","sincere","site","six","sixty","sj","sk","sl","slightly","sm","small","smaller","smallest","sn","so","some","somebody","someday","somehow","someone","somethan","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specifically","specified","specify","specifying","sr","st","state","states","still","stop","strongly","su","sub","substantially","successfully","such","sufficiently","suggest","sup","sure","sv","sy","system","sz","t","t's","take","taken","taking","tc","td","tell","ten","tends","test","text","tf","tg","th","than","thank","thanks","thanx","that","that'll","that's","that've","thatll","thats","thatve","the","their","theirs","them","themselves","then","thence","there","there'd","there'll","there're","there's","there've","thereafter","thereby","thered","therefore","therein","therell","thereof","therere","theres","thereto","thereupon","thereve","these","they","they'd","they'll","they're","they've","theyd","theyll","theyre","theyve","thick","thin","thing","things","think","thinks","third","thirty","this","thorough","thoroughly","those","thou","though","thoughh","thought","thoughts","thousand","three","throug","through","throughout","thru","thus","til","till","tip","tis","tj","tk","tm","tn","to","today","together","too","took","top","toward","towards","tp","tr","tried","tries","trillion","truly","try","trying","ts","tt","turn","turned","turning","turns","tv","tw","twas","twelve","twenty","twice","two","tz","u","ua","ug","uk","um","un","under","underneath","undoing","unfortunately","unless","unlike","unlikely","until","unto","up","upon","ups","upwards","us","use","used","useful","usefully","usefulness","uses","using","usually","uucp","uy","uz","v","va","value","various","vc","ve","versus","very","vg","vi","via","viz","vn","vol","vols","vs","vu","w","want","wanted","wanting","wants","was","wasn","wasn't","wasnt","way","ways","we","we'd","we'll","we're","we've","web","webpage","website","wed","welcome","well","wells","went","were","weren","weren't","werent","weve","wf","what","what'd","what'll","what's","what've","whatever","whatll","whats","whatve","when","when'd","when'll","when's","whence","whenever","where","where'd","where'll","where's","whereafter","whereas","whereby","wherein","wheres","whereupon","wherever","whether","which","whichever","while","whilst","whim","whither","who","who'd","who'll","who's","whod","whoever","whole","wholl","whom","whomever","whos","whose","why","why'd","why'll","why's","widely","width","will","willing","wish","with","within","without","won","won't","wonder","wont","words","work","worked","working","works","world","would","would've","wouldn","wouldn't","wouldnt","ws","www","x","y","ye","year","years","yes","yet","you","you'd","you'll","you're","you've","youd","youll","young","younger","youngest","your","youre","yours","yourself","yourselves","youve","yt","yu","z","za","zero","zm","zr"]},{}],19:[function(e,t,n){function i(e,t){const n=[e];for(;n.length>0;){const i=n.shift();if(!1===t(i,e))return;if(i.children){const e=[...i.children];e.length>0&&n.unshift(...e)}}}t.exports.traverse=i,t.exports.traverseDepthFirst=i,t.exports.traverseBreadthFirst=function(e,t){const n=[e];for(;n.length>0;){const i=n.shift(),r=t(i,e);if(!1===r)return;if(i.children){const e=[...i.children];e.length>0&&n.push(...e)}}},t.exports.getLeafNodes=function(e,t=(()=>!0)){const n=[],i=[e];for(;i.length>0;){const r=i.shift(),o=t(r,e);if(!1===o)continue;const s=r.children?[...r.children]:null;s&&s.length>0?i.unshift(...s):n.push(r)}return n}},{}],20:[function(e,t,n){(function(e){(function(){e.CANVAS_SKETCH_DEFAULT_STORAGE_KEY=window.location.href}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1,20]);
//# sourceMappingURL=index.js.map
